<!doctype html>
<html ng-app="twente-app">
  <head>
    <meta charset="UTF-8">
    <title>Twente</title>
    <script src="libs/angular.js"></script>
    <script src="libs/angular-sanitize.min.js"></script>
    <!-- <script src="libs/angular-touch.js"></script> -->
    <script src="libs/mousewheel.js"></script>
    <script src="libs/utils.js"></script>
    <script src="libs/nine-e/geometrymodel/Geometry.js"></script>
    <script src="libs/nine-e/geometrymodel/GeometryCollection.js"></script>
    <script src="libs/nine-e/geometrymodel/Point.js"></script>
    <script src="libs/nine-e/geometrymodel/Envelope.js"></script>
    <script src="libs/nine-e/geometrymodel/GeometryTools.js"></script>
    <script src="libs/nine-e/geometrymodel/LineString.js"></script>
    <script src="libs/nine-e/geometrymodel/Polygon.js"></script>
    <script src="libs/nine-e/geometrymodel/converters/WKTConverter.js"></script>
    <script src="libs/nine-e/featuremodel/Feature.js"></script>
    <script src="libs/nine-e/featuremodel/FeatureModel.js"></script>
    <script src="libs/nine-e/featuremodel/FeatureType.js"></script>
    <script src="libs/nine-e/featuremodel/Property.js"></script>
    <script src="libs/nine-e/featuremodel/PropertyType.js"></script>
    <script src="libs/nine-e/featuremodel/commands/ToggleSelectFeatureCommand.js"></script>
    <script src="libs/nine-e/featuremodel/commands/ToURLFeatureCommand.js"></script>
    <script src="libs/nine-e/featuremodel/converters/CSVConverter.js"></script>
    <script src="libs/nine-e/focusmodel/CenterScale.js"></script>
    <script src="libs/nine-e/focusmodel/FocusModel.js"></script>
    <script src="libs/nine-e/focusmodel/EnvelopeCenterScale.js"></script>
    <script src="libs/nine-e/focusmodel/ZoomLevel.js"></script>
    <script src="libs/nine-e/layermodel/Tile.js"></script>
    <script src="libs/nine-e/layermodel/TileModel.js"></script>
    <script src="libs/nine-e/selectionmodel/SelectionModel.js"></script>
    <script src="libs/nine-e/service/file/CSVServiceConnector.js"></script>
    <script src="libs/nine-e/nine-e.js"></script>
    <script src="js/twente.js"></script>
    <link rel="stylesheet" href="libs/nine-e/stylesheet/nine-e.css">
    <link rel="stylesheet" href="css/twente.css">
  </head>
  <body>
    <div id="twente_map_container" ng-controller="MapCtrl">
      <legend id="legend" layers="layers"></legend>
      <map id="map" boundsmodel="boundsModel" focusmodel="focusModel" envelopemodel="envelopeModel">
        <tileslayer tilemodel="tileModel"></tileslayer>
          <div id="navigationControl" focusmodel="focusModel" ng-controller="FocusButtonBarCtrl">
          <button ng-click="panNorth()">North</button>
          <button ng-click="panSouth()">South</button>
          <button ng-click="panWest()">West</button>
          <button ng-click="panEast()">East</button>
          <button ng-click="zoomIn()">Zoom In</button>
          <button ng-click="zoomOut()">Zoom Out</button>
        </div>
        <mapfeaturelayer layer="layers[0]" featuremodel="featureModels[1]" selectionmodel="selectionModel" featurecommand="toggleSelectFeatureCommand">
          <geometrysymbolizer maxscale="108336.00408304202" propertyindex="3" style="fill:none;stroke:#FF0000;stroke-width:5"></geometrysymbolizer>
          <geometrysymbolizer maxscale="108336.00408304202" propertyindex="4" style="fill:none;stroke:#0000FF;stroke-width:5"></geometrysymbolizer>
          <imagesymbolizer propertyindex="2" assetpropertyindex="0" asset="twentemobiel/images/symt$_18.png"></imagesymbolizer>
        </mapfeaturelayer>
        <mapfeaturelayer layer="layers[1]" featuremodel="featureModels[2]" featurecommand="toggleSelectFeatureCommand">
         <imagesymbolizer propertyindex="3" assetpropertyindex="" asset="twentemobiel/images/trains.png"></imagesymbolizer>
        </mapfeaturelayer>
        <mapfeaturelayer layer="layers[2]" featuremodel="featureModels[3]" featurecommand="toggleSelectFeatureCommand">
         <imagesymbolizer propertyindex="2" assetpropertyindex="" asset="twentemobiel/images/bikes.png"></imagesymbolizer>
        </mapfeaturelayer>
        <mapfeaturelayer layer="layers[3]" featuremodel="featureModels[4]" featurecommand="ToURLFeatureCommand">
         <imagesymbolizer propertyindex="3" assetpropertyindex="" asset="twentemobiel/images/parkrides.png"></imagesymbolizer>
        </mapfeaturelayer>
        <mapfeaturelayer layer="layers[4]" featuremodel="featureModels[5]" featurecommand="ToURLFeatureCommand">
         <imagesymbolizer propertyindex="3" assetpropertyindex="" asset="twentemobiel/images/carpools.png"></imagesymbolizer>
        </mapfeaturelayer>
        <mapfeaturelayer layer="layers[5]" featuremodel="featureModels[6]" featurecommand="ToURLFeatureCommand">
         <imagesymbolizer propertyindex="3" assetpropertyindex="" asset="twentemobiel/images/carparks.png"></imagesymbolizer>
        </mapfeaturelayer>
        <mapfeaturelayer layer="layers[6]" featuremodel="featureModels[7]" featurecommand="ToURLFeatureCommand">
         <geometryimagesymbolizer propertyindex="3" assetpropertyindex="" asset="twentemobiel/images/webcams.png"></geometryimagesymbolizer>
        </mapfeaturelayer>
      </map>
      <div id="infoPanel" ng-controller="InfoCtrl">
      	<div ng-if="selectionModel.selectedFeature == null">Er zijn op dit moment {{featureModels[1].features.length}} meldingen van hinder en afsluitingen. Wegwerkzaamheden en evenementen die over meer dan 4 weken aanvangen zijn nog niet zichtbaar.</div>
      	<div ng-if="selectionModel.selectedFeature.featureType.name == 'hinderFeatureModel'" ng-bind-html="setWegobjectText(selectionModel.selectedFeature.propertyValues)">
     	</div>
      	<div ng-if="selectionModel.selectedFeature.featureType.name == 'trainFeatureModel'" ng-bind-html="setTrainText(selectionModel.selectedFeature.propertyValues)">
      	</div>
      	<div ng-if="selectionModel.selectedFeature.featureType.name == 'bikesFeatureModel'" ng-bind-html="setBikeText(selectionModel.selectedFeature.propertyValues)">
      	</div>
    	</div>
    </div>
  </body>
</html>
